<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Transform speeches in pdf to data.frame — speech_build • speech</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Transform speeches in pdf to data.frame — speech_build"><meta property="og:description" content="It allows to extract the individual speeches of each legislator
    in a document and obtain a data.frame."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">speech</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Nicolas-Schmidt/speech/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transform speeches in pdf to data.frame</h1>
    <small class="dont-index">Source: <a href="https://github.com/Nicolas-Schmidt/speech/blob/HEAD/R/speech_build.R" class="external-link"><code>R/speech_build.R</code></a></small>
    <div class="hidden name"><code>speech_build.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>It allows to extract the individual speeches of each legislator
    in a document and obtain a data.frame.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">speech_build</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  add.error.sir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rm.error.leg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compiler <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quality <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>char <span class="op">=</span> <span class="fl">6500</span>, drop.page <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>list or character vector specifying the path or URL to a PDF file.
It can be one or more files.</p></dd>


<dt>add.error.sir</dt>
<dd><p>character vector. It allows to specify different ways in which
the term that orders the speeches could be miswritten: sir. By default it is <code>NULL</code>.</p></dd>


<dt>rm.error.leg</dt>
<dd><p>character vector. It allows to add legislator's names
to be eliminated. By default it is <code>NULL</code>.
By default, "PRESIDENTE", "SECRETARIO", "SUBSECRETARIO", and "MINISTRO" are eliminated.</p></dd>


<dt>compiler</dt>
<dd><p>logical. When the checking of the process of conversion from pdf to data frame
is completed, it is necessary to compile the data frame. To compile implies to unite all the
speeches of each of the legislators for each document. As it is an operation
that must be carried out after making corrections, it is necessary to opt for it.
By default it is <code>FALSE</code>.</p></dd>


<dt>quality</dt>
<dd><p>logical. If <code>TRUE</code>, two quality indicators are added about
the process, according to the quality of the document.</p><ul><li><p>index_1: Proportion of the text recovered according to the original document
        (<code>param = list(char = 6500, drop.page = 2)</code>) that must have the document.</p></li>
<li><p>index_2: Proportion of the final text as a function of the
        recovered text. It is the proportion of the document in which there are
        only interventions by legislators.</p></li>
</ul></dd>


<dt>param</dt>
<dd><p>list of length 2 with magnitudes for arguments "character for page" and "drop page
non evaluate" respectively. The default values are the median characters of
8500 documents that make up the speech datasets.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>data.frame class <code>puy</code> with the following variables:</p>
<p></p>
<ul><li><p><code>legislator</code>: name of the legislators</p></li>
<li><p><code>speech</code>: speeches by legislators</p></li>
<li><p><code>date</code>: session date</p></li>
<li><p><code>id</code>: name <code>file</code></p></li>
<li><p><code>legislature</code>: legislature id (period of government)</p></li>
<li><p><code>sex</code>: sex</p></li>
<li><p><code>chamber</code>: chamber to which the document belongs.
            It can be: Chamber of Representatives, Senate, General Assembly or Permanent Commission.</p></li>
</ul><p>If quality is TRUE, the following are added:</p>
<p></p>
<ul><li><p><code>index_1</code>: index_1</p></li>
<li><p><code>index_2</code>: index_2</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function converts PDF documents to data.frame. The conversion is
    made by seeking interventions of legislators from the word "SENOR". As the
    quality of PDF files is not always the best it is recommended to verify that
    no legislator is omitted in the data.frame construction process. To make
    corrections of the word "SENOR" is that the argument <code>add.error.sir</code>
    should be used. The function has a long list of different ways in which
    the word "SENOR" may be written in a document, but not all possible future
    problems are covered. When the PDF document is a scan that was treated with
    an OCR, it should be checked with greater caution to ensure that the operation
    was performed correctly.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># url &lt;- speech::speech_url(chamber = "C", from = "17-09-2019", to = "17-09-2019")</span></span></span>
<span class="r-in"><span><span class="co"># out &lt;- speech_build(file = url)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># out &lt;- speech_build(file = url, compiler = FALSE,</span></span></span>
<span class="r-in"><span><span class="co">#                     quality = TRUE,</span></span></span>
<span class="r-in"><span><span class="co">#                     add.error.sir = c("SEf'IOR"),</span></span></span>
<span class="r-in"><span><span class="co">#                     rm.error.leg = c("PRtSIDENTE", "SUB", "PRfSlENTE"),</span></span></span>
<span class="r-in"><span><span class="co">#                     param = list(char = 6000, drop.page = 3))</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># out &lt;- list.files(pattern = "*.pdf") %&gt;% speech_build()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># out &lt;- list.files(pattern = "*.pdf") %&gt;%</span></span></span>
<span class="r-in"><span><span class="co">#     speech_build(., compiler = TRUE, param = list(char = 4500, drop.page = 3))</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nicolas Schmidt, Diego Lujan, Juan Andres Moraes.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

